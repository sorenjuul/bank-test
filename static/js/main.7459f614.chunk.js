(this["webpackJsonpbank-test"]=this["webpackJsonpbank-test"]||[]).push([[0],{130:function(e,t,n){e.exports=n(274)},135:function(e,t,n){},266:function(e,t,n){},274:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(7),i=n.n(o),s=(n(135),n(275),n(123)),c=n(43),l=n.n(c),u=n(63),p=n(64),g=n(65),h=n(70),f=n(71),d=(n(140),n(72));function m(e,t){return v.apply(this,arguments)}function v(){return(v=Object(u.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=1794b363d1993ad0517ba5a03ed6f208&tags=".concat(t,"&sort=relevance&safe_search=1&is_getty=true&per_page=12&page=").concat(n,"&format=json&nojsoncallback=1"));case 3:return r=e.sent,e.next=6,r.json();case 6:a=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a={};case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var b=n(90),k=n.n(b);function w(e){return{imageUrls:k()(e,"photos.photo",[]).map((function(e){return{url:"https://farm".concat(e.farm,".staticflickr.com/").concat(e.server,"/").concat(e.id,"_").concat(e.secret,"_q.jpg"),id:e.id,title:e.title}})),total:k()(e,"photos.total",0)}}var y=n(34),E=n.n(y),C=n(117),j=n.n(C),x=(n(195),n(9)),I=(n(276),n(125)),O=(n(199),n(127)),N=(n(201),n(92)),S=n(126),U=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={inputVisible:!1,inputValue:""},e.handleClose=function(t){var n=e.props.tags.filter((function(e){return e!==t}));e.props.handleChange(n)},e.showInput=function(){e.setState({inputVisible:!0},(function(){return e.input.focus()}))},e.handleInputChange=function(t){e.setState({inputValue:t.target.value})},e.handleInputConfirm=function(){var t=e.state.inputValue,n=e.props.tags;t&&-1===n.indexOf(t)&&(n=[].concat(Object(S.a)(n),[t])),e.setState({inputVisible:!1,inputValue:""}),e.props.handleChange(n)},e.saveInputRef=function(t){return e.input=t},e}return Object(g.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.inputVisible,a=t.inputValue,o=this.props.tags;return r.a.createElement("div",{className:"tags"},o.map((function(t){var n=t.length>20,a=r.a.createElement(N.a,{key:t,closable:!0,afterClose:function(){return e.handleClose(t)}},n?"".concat(t.slice(0,20),"..."):t);return n?r.a.createElement(O.a,{title:t,key:t},a):a})),n&&r.a.createElement(I.a,{ref:this.saveInputRef,type:"text",size:"small",style:{width:78},value:a,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!n&&r.a.createElement(N.a,{onClick:this.showInput,style:{background:"#fff",borderStyle:"dashed"}},r.a.createElement(x.a,{type:"plus"})," New Tag"))}}]),n}(a.Component),V=(n(112),n(27)),_=(n(114),n(20)),B=(n(277),n(124));var W=function(e){var t=e.imageUrls,n=e.loading;return 0===E()(t)?null:r.a.createElement(V.a,{type:"flex",justify:"space-around",align:"middle"},t.map((function(e){return r.a.createElement(_.a,{key:e.id,xs:24,sm:12,md:8,lg:6},r.a.createElement(B.a,{title:e.title||"No name",loading:n},r.a.createElement("img",{width:"150px",height:"150px",alt:e.title,src:e.url,style:{display:"block",margin:"0 auto"}})))})))},T=(n(266),d.a.Header),A=d.a.Content,R=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={page:1,imageUrls:[],loading:!1,total:0,tags:[]},e.searchImages=function(){var t=Object(u.a)(l.a.mark((function t(n,a){var r,o,i,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.state.tags,o=a||r,0!==E()(o)){t.next=5;break}return e.setState({imageUrls:[],page:1,total:0,tags:[]}),t.abrupt("return");case 5:return e.setState({loading:!0,tags:o}),t.next=8,m(o.join(","),n);case 8:i=t.sent,s=w(i),e.setState({imageUrls:s.imageUrls,loading:!1,page:n,total:j()(s.total)});case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.paging=function(t){e.searchImages(t)},e.tagsChanged=function(t){e.searchImages(1,t)},e}return Object(g.a)(n,[{key:"render",value:function(){var e=this.state,t=e.imageUrls,n=e.loading,a=e.tags,o=e.page,i=e.total;return r.a.createElement("div",{className:"app"},r.a.createElement(d.a,null,r.a.createElement(T,{className:"header"},r.a.createElement("h1",{className:"header__title"},"Bank Test")),r.a.createElement(A,{style:{margin:"24px 16px 0"}},r.a.createElement("div",{style:{padding:24}},r.a.createElement("h4",{style:{marginBottom:16}},"Search for tags on flickr:"),r.a.createElement(U,{handleChange:this.tagsChanged,tags:a}),0===E()(t)&&0!==E()(a)&&r.a.createElement("h2",null,"No results"),r.a.createElement(W,{imageUrls:t,loading:n}),E()(t)>0&&!n&&r.a.createElement("div",{className:"pagination"},r.a.createElement(s.a,{simple:!0,current:o,total:i,pageSize:12,onChange:this.paging}))))))}}]),n}(a.Component),z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function J(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(R,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/bank-test",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/bank-test","/service-worker.js");z?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):J(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):J(e)}))}}()}},[[130,1,2]]]);
//# sourceMappingURL=main.7459f614.chunk.js.map